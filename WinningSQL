CREATE TABLE Pick (
    PRIMARY KEY     (pick_id),
    pick_id         INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    created         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,   
    historical      INTEGER NOT NULL, 
    type_id         INTEGER NOT NULL CONSTRAINT  PickValue_LotteryType_FK REFERENCES Pick
);
    
CREATE TABLE PickValue (
    PRIMARY KEY     (value_id),
    value_id        INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    pick_id         INTEGER NOT NULL CONSTRAINT  PickValue_Pick_FK REFERENCES Pick,
    value           INTEGER NOT NULL,
    sequence        INTEGER
);

CREATE TABLE LotteryType (
    PRIMARY KEY     (type_id),
    type_id         INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    name            VARCHAR(100),
    size_one        INTEGER NOT NULL,
    draw_one        INTEGER NOT NULL,
    size_two        INTEGER,
    draw_two        INTEGER
);

INSERT INTO Pick
    (
        type_id,
        historical 
    )
VALUES 
    (
        1,
        0
    ),
    (
        1,
        1
    );
        
INSERT INTO PickValue
    (
        pick_id,
        value
    )
VALUES 
    (
       1,
       37
    ),
    (
        1,
        3
    ),
    (
        1,
        13
    ),
    (
        1,
        20
    ),
    (
        1,
        11
    );
    
INSERT INTO LotteryType 
    (
    name,
    size_one,
    draw_one
    )
VALUES
    (
    'Roadrunner',
    37,
    5
    ),
    (
    'Powerball',
    48,
    6
    );


select t.name, p.created, v.value from lotterytype as t join pick as p on p.type_id=t.type_id join pickvalue as v on v.pick_id=p.pick_id where p.historical=0 order by p.created, v.value;

select p.pick_id, p.historical from pick as p;